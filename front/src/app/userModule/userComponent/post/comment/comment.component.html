<div class="comment" *ngFor="let comment of comments">
    <p class="post-user">
        <a [routerLink]="[ '/user/profile', comment.userId ]">
            <img src="{{url}}/{{comment.userImage}}" alt="{{comment.username}}"> {{comment.username | titlecase }}
        </a>
    </p>
    <p class="post-body">{{comment.body}}</p>
    <p class="post-date text-right">
        {{comment.createdAt | date:'MMM d, y, h:mm:ss a'}}
    </p>
    <app-replay [replays]='comment.replay' [url]='url' [user]='user'></app-replay>
    <p *ngIf="comment.replay.length > 2" class="text-right" >
            <span (click)='seeMoreReplay(comment.postId, comment._id)' class="see-more">
                see replay
            </span> 
        </p>
    <form class="comment-form" (submit)='addReplay(comment._id, comment.postId, user.username, user._id, user.image)'>
        <mat-form-field>
            <textarea name='newReplay' [(ngModel)]="newReplay" matInput placeholder="replay"></textarea>
        </mat-form-field>
        <div class="text-right">
            <button mat-raised-button color='primary' >replay</button>
        </div>
    </form>
</div>
